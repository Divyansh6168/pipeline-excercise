name: Build and Store Artifacts

on:
    push:
        branches:
            - master

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v3
            - name: Build Project
              run: |
                mkdir -p output
                echo "Hello This is my Firsat Project" > output/artifacts.txt
                ls -l output/
                cat output/artifacts.txt

            - name: Upload Artifact
              uses: actions/upload-artifact@v4
              with:
                name: my-artifact
                path: output/

    download:
        runs-on: ubuntu-latest
        needs: build
        steps:
            - name: Download Artifact
              uses: actions/download-artifact@v4
              with:
                name: my-artifact
                path: downloaded-artifact

            - name: Display Artifact Content
              run: |
                cat downloaded-artifact/artifact.txt || echo "File is missing or empty"
